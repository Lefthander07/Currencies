2025-04-03 15:13:57.438 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 15:13:58.050 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 15:13:58.051 +03:00 [INF] Hosting environment: Development
2025-04-03 15:13:58.051 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 15:14:29.090 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency - null null
2025-04-03 15:14:29.436 +03:00 [INF] Incoming Request: GET /currency
2025-04-03 15:14:29.497 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi)'
2025-04-03 15:14:29.560 +03:00 [INF] Route matched with {action = "GetCurrencyRate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyCurrentResponse] GetCurrencyRate(System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:14:36.766 +03:00 [ERR] Error starting gRPC call.
Grpc.Core.RpcException: Status(StatusCode="Unavailable", Detail="Error connecting to subchannel.", DebugException="System.Net.Sockets.SocketException: Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.")
 ---> System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.SocketConnectivitySubchannelTransport.TryConnectAsync(CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Grpc.Net.Client.Balancer.Internal.ConnectionManager.PickAsync(PickContext context, Boolean waitForReady, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.BalancerHttpHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpMessageInvoker.<SendAsync>g__SendAsyncWithTelemetry|6_0(HttpMessageHandler handler, HttpRequestMessage request, CancellationToken cancellationToken)
   at Grpc.Net.Client.Internal.GrpcCall`2.RunCall(HttpRequestMessage request, Nullable`1 timeout)
2025-04-03 15:14:36.901 +03:00 [INF] Call failed with gRPC error status. Status code: '"Unavailable"', Message: 'Error connecting to subchannel.'.
2025-04-03 15:14:37.736 +03:00 [ERR] An unexpected error occurred
Grpc.Core.RpcException: Status(StatusCode="Unavailable", Detail="Error connecting to subchannel.", DebugException="System.Net.Sockets.SocketException: Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.")
 ---> System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.SocketConnectivitySubchannelTransport.TryConnectAsync(CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Grpc.Net.Client.Balancer.Internal.ConnectionManager.PickAsync(PickContext context, Boolean waitForReady, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.BalancerHttpHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpMessageInvoker.<SendAsync>g__SendAsyncWithTelemetry|6_0(HttpMessageHandler handler, HttpRequestMessage request, CancellationToken cancellationToken)
   at Grpc.Net.Client.Internal.GrpcCall`2.RunCall(HttpRequestMessage request, Nullable`1 timeout)
   at Fuse8.BackendInternship.PublicApi.gRPC.CurrencyClient.GetCurrencyCurrent(String CurrencyCode) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\gRPC\CurrencyClient.cs:line 21
   at Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate(CancellationToken token) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\Controllers\CurrencyController.cs:line 47
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-04-03 15:14:37.756 +03:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-03 15:14:37.807 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi) in 8239.531ms
2025-04-03 15:14:37.808 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi)'
2025-04-03 15:14:37.809 +03:00 [INF] Response Status Code: 500
2025-04-03 15:14:37.814 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency - 500 null application/json; charset=utf-8 8748.0589ms
2025-04-03 15:14:39.556 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/favicon.ico - null null
2025-04-03 15:14:39.561 +03:00 [INF] Incoming Request: GET /favicon.ico
2025-04-03 15:14:39.561 +03:00 [INF] Response Status Code: 404
2025-04-03 15:14:39.562 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/favicon.ico - 404 0 null 7.14ms
2025-04-03 15:14:39.563 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5166/favicon.ico, Response status code: 404
2025-04-03 15:14:45.119 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/ - null null
2025-04-03 15:14:45.131 +03:00 [INF] Incoming Request: GET /
2025-04-03 15:14:45.131 +03:00 [INF] Response Status Code: 404
2025-04-03 15:14:45.131 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/ - 404 0 null 11.8328ms
2025-04-03 15:14:45.131 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5166/, Response status code: 404
2025-04-03 15:14:48.485 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/swagger - null null
2025-04-03 15:14:48.490 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/swagger - 301 0 null 4.4869ms
2025-04-03 15:14:48.500 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/swagger/index.html - null null
2025-04-03 15:14:48.613 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/swagger/index.html - 200 null text/html;charset=utf-8 113.0285ms
2025-04-03 15:14:48.704 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/swagger/swagger-ui.css - null null
2025-04-03 15:14:48.709 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/swagger/index.css - null null
2025-04-03 15:14:48.739 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/swagger/swagger-ui-bundle.js - null null
2025-04-03 15:14:48.742 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/swagger/swagger-ui-standalone-preset.js - null null
2025-04-03 15:14:48.743 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/swagger/index.js - null null
2025-04-03 15:14:48.745 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/swagger/index.js - 200 null application/javascript;charset=utf-8 1.5537ms
2025-04-03 15:14:48.746 +03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-04-03 15:14:48.746 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/swagger/index.css - 200 202 text/css 37.5057ms
2025-04-03 15:14:48.746 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/_framework/aspnetcore-browser-refresh.js - null null
2025-04-03 15:14:48.750 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 3.8604ms
2025-04-03 15:14:48.757 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-04-03 15:14:48.757 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-04-03 15:14:48.757 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/swagger/swagger-ui.css - 200 154948 text/css 53.4074ms
2025-04-03 15:14:48.757 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 15.4806ms
2025-04-03 15:14:48.786 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/_vs/browserLink - null null
2025-04-03 15:14:48.809 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-04-03 15:14:48.809 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/swagger/swagger-ui-bundle.js - 200 1466324 text/javascript 70.0083ms
2025-04-03 15:14:49.093 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/_vs/browserLink - 200 null text/javascript; charset=UTF-8 308.9481ms
2025-04-03 15:14:49.716 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/swagger/v1/swagger.json - null null
2025-04-03 15:14:49.785 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/swagger/favicon-32x32.png - null null
2025-04-03 15:14:49.788 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-04-03 15:14:49.788 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/swagger/favicon-32x32.png - 200 628 image/png 6.3165ms
2025-04-03 15:14:49.832 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.9186ms
2025-04-03 15:15:02.263 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency - null null
2025-04-03 15:15:02.265 +03:00 [INF] Incoming Request: GET /currency
2025-04-03 15:15:02.266 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi)'
2025-04-03 15:15:02.266 +03:00 [INF] Route matched with {action = "GetCurrencyRate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyCurrentResponse] GetCurrencyRate(System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:15:02.271 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent
2025-04-03 15:15:02.291 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent
2025-04-03 15:15:02.465 +03:00 [INF] Received HTTP response headers after 172.0723ms - 200
2025-04-03 15:15:02.508 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetCurrencyCurrent"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":"\u0000\u0000\u0000\u0000\u000E\n\u0003RUB\u0011z\uFFFD}I\uFFFD\uFFFD9@"}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:15:02.282611Z","EndDate":"2025-04-03T12:15:02.4721253Z","Duration":190}
2025-04-03 15:15:02.512 +03:00 [INF] End processing HTTP request after 241.7881ms - 200
2025-04-03 15:15:02.539 +03:00 [INF] Executing ObjectResult, writing value of type 'Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyCurrentResponse'.
2025-04-03 15:15:02.547 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi) in 280.5039ms
2025-04-03 15:15:02.547 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi)'
2025-04-03 15:15:02.547 +03:00 [INF] Response Status Code: 200
2025-04-03 15:15:02.547 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency - 200 null application/json; charset=utf-8 284.2138ms
2025-04-03 15:15:09.907 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency - null null
2025-04-03 15:15:09.907 +03:00 [INF] Incoming Request: GET /currency
2025-04-03 15:15:09.907 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi)'
2025-04-03 15:15:09.907 +03:00 [INF] Route matched with {action = "GetCurrencyRate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyCurrentResponse] GetCurrencyRate(System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:15:09.912 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent
2025-04-03 15:15:09.913 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent
2025-04-03 15:15:09.921 +03:00 [INF] Received HTTP response headers after 7.7574ms - 200
2025-04-03 15:15:09.921 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetCurrencyCurrent"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":"\u0000\u0000\u0000\u0000\u000E\n\u0003RUB\u0011z\uFFFD}I\uFFFD\uFFFD9@"}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:15:09.91265Z","EndDate":"2025-04-03T12:15:09.9213199Z","Duration":9}
2025-04-03 15:15:09.921 +03:00 [INF] End processing HTTP request after 9.1548ms - 200
2025-04-03 15:15:09.921 +03:00 [INF] Executing ObjectResult, writing value of type 'Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyCurrentResponse'.
2025-04-03 15:15:09.922 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi) in 14.0852ms
2025-04-03 15:15:09.922 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi)'
2025-04-03 15:15:09.922 +03:00 [INF] Response Status Code: 200
2025-04-03 15:15:09.922 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency - 200 null application/json; charset=utf-8 14.7575ms
2025-04-03 15:15:10.408 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency - null null
2025-04-03 15:15:10.408 +03:00 [INF] Incoming Request: GET /currency
2025-04-03 15:15:10.408 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi)'
2025-04-03 15:15:10.408 +03:00 [INF] Route matched with {action = "GetCurrencyRate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyCurrentResponse] GetCurrencyRate(System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:15:10.409 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent
2025-04-03 15:15:10.410 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent
2025-04-03 15:15:10.421 +03:00 [INF] Received HTTP response headers after 10.8949ms - 200
2025-04-03 15:15:10.421 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetCurrencyCurrent"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":"\u0000\u0000\u0000\u0000\u000E\n\u0003RUB\u0011z\uFFFD}I\uFFFD\uFFFD9@"}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:15:10.4092115Z","EndDate":"2025-04-03T12:15:10.4212729Z","Duration":12}
2025-04-03 15:15:10.421 +03:00 [INF] End processing HTTP request after 12.3815ms - 200
2025-04-03 15:15:10.421 +03:00 [INF] Executing ObjectResult, writing value of type 'Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyCurrentResponse'.
2025-04-03 15:15:10.421 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi) in 13.1332ms
2025-04-03 15:15:10.421 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi)'
2025-04-03 15:15:10.421 +03:00 [INF] Response Status Code: 200
2025-04-03 15:15:10.421 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency - 200 null application/json; charset=utf-8 13.8905ms
2025-04-03 15:15:10.587 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency - null null
2025-04-03 15:15:10.587 +03:00 [INF] Incoming Request: GET /currency
2025-04-03 15:15:10.587 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi)'
2025-04-03 15:15:10.587 +03:00 [INF] Route matched with {action = "GetCurrencyRate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyCurrentResponse] GetCurrencyRate(System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:15:10.588 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent
2025-04-03 15:15:10.589 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent
2025-04-03 15:15:10.593 +03:00 [INF] Received HTTP response headers after 3.5556ms - 200
2025-04-03 15:15:10.593 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetCurrencyCurrent"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":"\u0000\u0000\u0000\u0000\u000E\n\u0003RUB\u0011z\uFFFD}I\uFFFD\uFFFD9@"}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:15:10.5882354Z","EndDate":"2025-04-03T12:15:10.5934312Z","Duration":5}
2025-04-03 15:15:10.593 +03:00 [INF] End processing HTTP request after 5.5896ms - 200
2025-04-03 15:15:10.594 +03:00 [INF] Executing ObjectResult, writing value of type 'Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyCurrentResponse'.
2025-04-03 15:15:10.594 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi) in 6.7498ms
2025-04-03 15:15:10.594 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi)'
2025-04-03 15:15:10.594 +03:00 [INF] Response Status Code: 200
2025-04-03 15:15:10.594 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency - 200 null application/json; charset=utf-8 7.1854ms
2025-04-03 15:15:10.731 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency - null null
2025-04-03 15:15:10.731 +03:00 [INF] Incoming Request: GET /currency
2025-04-03 15:15:10.731 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi)'
2025-04-03 15:15:10.731 +03:00 [INF] Route matched with {action = "GetCurrencyRate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyCurrentResponse] GetCurrencyRate(System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:15:10.732 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent
2025-04-03 15:15:10.732 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent
2025-04-03 15:15:10.736 +03:00 [INF] Received HTTP response headers after 3.3655ms - 200
2025-04-03 15:15:10.736 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetCurrencyCurrent"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":"\u0000\u0000\u0000\u0000\u000E\n\u0003RUB\u0011z\uFFFD}I\uFFFD\uFFFD9@"}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:15:10.7320699Z","EndDate":"2025-04-03T12:15:10.7364557Z","Duration":4}
2025-04-03 15:15:10.736 +03:00 [INF] End processing HTTP request after 4.6604ms - 200
2025-04-03 15:15:10.736 +03:00 [INF] Executing ObjectResult, writing value of type 'Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyCurrentResponse'.
2025-04-03 15:15:10.737 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi) in 5.4829ms
2025-04-03 15:15:10.737 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi)'
2025-04-03 15:15:10.737 +03:00 [INF] Response Status Code: 200
2025-04-03 15:15:10.737 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency - 200 null application/json; charset=utf-8 5.9817ms
2025-04-03 15:15:16.646 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/settings - null null
2025-04-03 15:15:16.647 +03:00 [INF] Incoming Request: GET /settings
2025-04-03 15:15:16.647 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 15:15:16.650 +03:00 [INF] Route matched with {action = "GetSettings", controller = "Settings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse] GetSettings() on controller Fuse8.BackendInternship.PublicApi.Controllers.Settings (PublicApi).
2025-04-03 15:15:16.652 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetSetting
2025-04-03 15:15:16.653 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetSetting
2025-04-03 15:15:17.074 +03:00 [INF] Received HTTP response headers after 420.914ms - 200
2025-04-03 15:15:17.074 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetSetting","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetSetting"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":"\u0000\u0000\u0000\u0000\u0007\n\u0003BYN\u0010\u0001"}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetSetting","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:15:16.6525688Z","EndDate":"2025-04-03T12:15:17.0743322Z","Duration":422}
2025-04-03 15:15:17.074 +03:00 [INF] End processing HTTP request after 422.0661ms - 200
2025-04-03 15:15:17.076 +03:00 [INF] Executing ObjectResult, writing value of type 'Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse'.
2025-04-03 15:15:17.077 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi) in 427.024ms
2025-04-03 15:15:17.077 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 15:15:17.077 +03:00 [INF] Response Status Code: 200
2025-04-03 15:15:17.077 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/settings - 200 null application/json; charset=utf-8 430.8066ms
2025-04-03 15:15:52.655 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - null null
2025-04-03 15:15:52.656 +03:00 [INF] Incoming Request: GET /currency/RUB/2008-01-01
2025-04-03 15:15:52.656 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:15:52.664 +03:00 [INF] Route matched with {action = "GetCurrencyRateByDate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyHistoricalResponse] GetCurrencyRateByDate(System.String, System.DateOnly, System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:15:52.677 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:15:52.678 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:15:52.861 +03:00 [INF] Received HTTP response headers after 182.9131ms - 200
2025-04-03 15:15:52.861 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetCurrencyOnDate"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":""}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:15:52.6776631Z","EndDate":"2025-04-03T12:15:52.861584Z","Duration":184}
2025-04-03 15:15:52.861 +03:00 [INF] End processing HTTP request after 184.2491ms - 200
2025-04-03 15:15:52.863 +03:00 [INF] Call failed with gRPC error status. Status code: '"Unknown"', Message: 'Exception was thrown by handler. FormatException: String '01.01.2008' was not recognized as a valid DateOnly.'.
2025-04-03 15:15:53.127 +03:00 [ERR] An unexpected error occurred
Grpc.Core.RpcException: Status(StatusCode="Unknown", Detail="Exception was thrown by handler. FormatException: String '01.01.2008' was not recognized as a valid DateOnly.")
   at Fuse8.BackendInternship.PublicApi.gRPC.CurrencyClient.GetCurrencyOnDateAsync(String CurrencyCode, String date) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\gRPC\CurrencyClient.cs:line 37
   at Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate(String code, DateOnly date, CancellationToken token) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\Controllers\CurrencyController.cs:line 104
   at lambda_method23(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-04-03 15:15:53.128 +03:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-03 15:15:53.128 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi) in 464.1425ms
2025-04-03 15:15:53.128 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:15:53.128 +03:00 [INF] Response Status Code: 500
2025-04-03 15:15:53.128 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - 500 null application/json; charset=utf-8 472.6469ms
2025-04-03 15:16:05.010 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - null null
2025-04-03 15:16:05.010 +03:00 [INF] Incoming Request: GET /currency/RUB/2008-01-01
2025-04-03 15:16:05.010 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:16:05.010 +03:00 [INF] Route matched with {action = "GetCurrencyRateByDate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyHistoricalResponse] GetCurrencyRateByDate(System.String, System.DateOnly, System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:16:05.011 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:16:05.012 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:16:05.110 +03:00 [INF] Received HTTP response headers after 97.8957ms - 200
2025-04-03 15:16:05.110 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetCurrencyOnDate"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":""}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:16:05.0117435Z","EndDate":"2025-04-03T12:16:05.1104521Z","Duration":99}
2025-04-03 15:16:05.110 +03:00 [INF] End processing HTTP request after 98.9988ms - 200
2025-04-03 15:16:05.110 +03:00 [INF] Call failed with gRPC error status. Status code: '"Unknown"', Message: 'Exception was thrown by handler. FormatException: String '01.01.2008' was not recognized as a valid DateOnly.'.
2025-04-03 15:16:05.334 +03:00 [ERR] An unexpected error occurred
Grpc.Core.RpcException: Status(StatusCode="Unknown", Detail="Exception was thrown by handler. FormatException: String '01.01.2008' was not recognized as a valid DateOnly.")
   at Fuse8.BackendInternship.PublicApi.gRPC.CurrencyClient.GetCurrencyOnDateAsync(String CurrencyCode, String date) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\gRPC\CurrencyClient.cs:line 37
   at Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate(String code, DateOnly date, CancellationToken token) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\Controllers\CurrencyController.cs:line 104
   at lambda_method23(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-04-03 15:16:05.335 +03:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-03 15:16:05.335 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi) in 324.1661ms
2025-04-03 15:16:05.335 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:16:05.335 +03:00 [INF] Response Status Code: 500
2025-04-03 15:16:05.335 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - 500 null application/json; charset=utf-8 324.9373ms
2025-04-03 15:17:28.600 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - null null
2025-04-03 15:17:28.600 +03:00 [INF] Incoming Request: GET /currency/RUB/2008-01-01
2025-04-03 15:17:28.600 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:17:28.601 +03:00 [INF] Route matched with {action = "GetCurrencyRateByDate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyHistoricalResponse] GetCurrencyRateByDate(System.String, System.DateOnly, System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:17:32.821 +03:00 [ERR] Error starting gRPC call.
Grpc.Core.RpcException: Status(StatusCode="Unavailable", Detail="Error connecting to subchannel.", DebugException="System.Net.Sockets.SocketException: Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.")
 ---> System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.SocketConnectivitySubchannelTransport.TryConnectAsync(CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Grpc.Net.Client.Balancer.Internal.ConnectionManager.PickAsync(PickContext context, Boolean waitForReady, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.BalancerHttpHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpMessageInvoker.<SendAsync>g__SendAsyncWithTelemetry|6_0(HttpMessageHandler handler, HttpRequestMessage request, CancellationToken cancellationToken)
   at Grpc.Net.Client.Internal.GrpcCall`2.RunCall(HttpRequestMessage request, Nullable`1 timeout)
2025-04-03 15:17:32.858 +03:00 [INF] Call failed with gRPC error status. Status code: '"Unavailable"', Message: 'Error connecting to subchannel.'.
2025-04-03 15:17:33.081 +03:00 [ERR] An unexpected error occurred
Grpc.Core.RpcException: Status(StatusCode="Unavailable", Detail="Error connecting to subchannel.", DebugException="System.Net.Sockets.SocketException: Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.")
 ---> System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.SocketConnectivitySubchannelTransport.TryConnectAsync(CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Grpc.Net.Client.Balancer.Internal.ConnectionManager.PickAsync(PickContext context, Boolean waitForReady, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.BalancerHttpHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpMessageInvoker.<SendAsync>g__SendAsyncWithTelemetry|6_0(HttpMessageHandler handler, HttpRequestMessage request, CancellationToken cancellationToken)
   at Grpc.Net.Client.Internal.GrpcCall`2.RunCall(HttpRequestMessage request, Nullable`1 timeout)
   at Fuse8.BackendInternship.PublicApi.gRPC.CurrencyClient.GetCurrencyOnDateAsync(String CurrencyCode, String date) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\gRPC\CurrencyClient.cs:line 37
   at Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate(String code, DateOnly date, CancellationToken token) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\Controllers\CurrencyController.cs:line 104
   at lambda_method23(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-04-03 15:17:33.082 +03:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-03 15:17:33.082 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi) in 4481.4462ms
2025-04-03 15:17:33.082 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:17:33.082 +03:00 [INF] Response Status Code: 500
2025-04-03 15:17:33.082 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - 500 null application/json; charset=utf-8 4482.1087ms
2025-04-03 15:18:24.668 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - null null
2025-04-03 15:18:24.668 +03:00 [INF] Incoming Request: GET /currency/RUB/2008-01-01
2025-04-03 15:18:24.668 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:18:24.668 +03:00 [INF] Route matched with {action = "GetCurrencyRateByDate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyHistoricalResponse] GetCurrencyRateByDate(System.String, System.DateOnly, System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:18:25.037 +03:00 [ERR] Error starting gRPC call.
Grpc.Core.RpcException: Status(StatusCode="Unavailable", Detail="Error connecting to subchannel.", DebugException="System.Net.Sockets.SocketException: Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.")
 ---> System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.SocketConnectivitySubchannelTransport.TryConnectAsync(CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Grpc.Net.Client.Balancer.Internal.ConnectionManager.PickAsync(PickContext context, Boolean waitForReady, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.BalancerHttpHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpMessageInvoker.<SendAsync>g__SendAsyncWithTelemetry|6_0(HttpMessageHandler handler, HttpRequestMessage request, CancellationToken cancellationToken)
   at Grpc.Net.Client.Internal.GrpcCall`2.RunCall(HttpRequestMessage request, Nullable`1 timeout)
2025-04-03 15:18:25.072 +03:00 [INF] Call failed with gRPC error status. Status code: '"Unavailable"', Message: 'Error connecting to subchannel.'.
2025-04-03 15:18:25.296 +03:00 [ERR] An unexpected error occurred
Grpc.Core.RpcException: Status(StatusCode="Unavailable", Detail="Error connecting to subchannel.", DebugException="System.Net.Sockets.SocketException: Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.")
 ---> System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.SocketConnectivitySubchannelTransport.TryConnectAsync(CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Grpc.Net.Client.Balancer.Internal.ConnectionManager.PickAsync(PickContext context, Boolean waitForReady, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.BalancerHttpHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpMessageInvoker.<SendAsync>g__SendAsyncWithTelemetry|6_0(HttpMessageHandler handler, HttpRequestMessage request, CancellationToken cancellationToken)
   at Grpc.Net.Client.Internal.GrpcCall`2.RunCall(HttpRequestMessage request, Nullable`1 timeout)
   at Fuse8.BackendInternship.PublicApi.gRPC.CurrencyClient.GetCurrencyOnDateAsync(String CurrencyCode, String date) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\gRPC\CurrencyClient.cs:line 37
   at Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate(String code, DateOnly date, CancellationToken token) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\Controllers\CurrencyController.cs:line 104
   at lambda_method23(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-04-03 15:18:25.296 +03:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-03 15:18:25.297 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi) in 628.6875ms
2025-04-03 15:18:25.297 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:18:25.297 +03:00 [INF] Response Status Code: 500
2025-04-03 15:18:25.297 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - 500 null application/json; charset=utf-8 629.3767ms
2025-04-03 15:18:35.712 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/settings - null null
2025-04-03 15:18:35.712 +03:00 [INF] Incoming Request: GET /settings
2025-04-03 15:18:35.712 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 15:18:35.712 +03:00 [INF] Route matched with {action = "GetSettings", controller = "Settings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse] GetSettings() on controller Fuse8.BackendInternship.PublicApi.Controllers.Settings (PublicApi).
2025-04-03 15:18:41.076 +03:00 [ERR] Error starting gRPC call.
Grpc.Core.RpcException: Status(StatusCode="Unavailable", Detail="Error connecting to subchannel.", DebugException="System.Net.Sockets.SocketException: Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.")
 ---> System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.SocketConnectivitySubchannelTransport.TryConnectAsync(CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Grpc.Net.Client.Balancer.Internal.ConnectionManager.PickAsync(PickContext context, Boolean waitForReady, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.BalancerHttpHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpMessageInvoker.<SendAsync>g__SendAsyncWithTelemetry|6_0(HttpMessageHandler handler, HttpRequestMessage request, CancellationToken cancellationToken)
   at Grpc.Net.Client.Internal.GrpcCall`2.RunCall(HttpRequestMessage request, Nullable`1 timeout)
2025-04-03 15:18:41.131 +03:00 [INF] Call failed with gRPC error status. Status code: '"Unavailable"', Message: 'Error connecting to subchannel.'.
2025-04-03 15:18:41.293 +03:00 [ERR] An unexpected error occurred
Grpc.Core.RpcException: Status(StatusCode="Unavailable", Detail="Error connecting to subchannel.", DebugException="System.Net.Sockets.SocketException: Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.")
 ---> System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.SocketConnectivitySubchannelTransport.TryConnectAsync(CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Grpc.Net.Client.Balancer.Internal.ConnectionManager.PickAsync(PickContext context, Boolean waitForReady, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.BalancerHttpHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpMessageInvoker.<SendAsync>g__SendAsyncWithTelemetry|6_0(HttpMessageHandler handler, HttpRequestMessage request, CancellationToken cancellationToken)
   at Grpc.Net.Client.Internal.GrpcCall`2.RunCall(HttpRequestMessage request, Nullable`1 timeout)
   at Fuse8.BackendInternship.PublicApi.gRPC.CurrencyClient.GetSettingAsync() in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\gRPC\CurrencyClient.cs:line 50
   at Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings() in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\Controllers\SettingsController.cs:line 42
   at lambda_method15(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-04-03 15:18:41.295 +03:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-03 15:18:41.295 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi) in 5582.6345ms
2025-04-03 15:18:41.295 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 15:18:41.295 +03:00 [INF] Response Status Code: 500
2025-04-03 15:18:41.295 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/settings - 500 null application/json; charset=utf-8 5583.1007ms
2025-04-03 15:19:22.069 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/settings - null null
2025-04-03 15:19:22.069 +03:00 [INF] Incoming Request: GET /settings
2025-04-03 15:19:22.069 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 15:19:22.069 +03:00 [INF] Route matched with {action = "GetSettings", controller = "Settings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse] GetSettings() on controller Fuse8.BackendInternship.PublicApi.Controllers.Settings (PublicApi).
2025-04-03 15:19:24.019 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetSetting
2025-04-03 15:19:24.022 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetSetting
2025-04-03 15:19:24.578 +03:00 [INF] Received HTTP response headers after 555.3896ms - 200
2025-04-03 15:19:24.582 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetSetting","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetSetting"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":"\u0000\u0000\u0000\u0000\u0007\n\u0003BYN\u0010\u0001"}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetSetting","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:19:24.0206637Z","EndDate":"2025-04-03T12:19:24.5793284Z","Duration":559}
2025-04-03 15:19:24.582 +03:00 [INF] End processing HTTP request after 563.9437ms - 200
2025-04-03 15:19:24.586 +03:00 [INF] Executing ObjectResult, writing value of type 'Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse'.
2025-04-03 15:19:24.587 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi) in 2517.1025ms
2025-04-03 15:19:24.587 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 15:19:24.587 +03:00 [INF] Response Status Code: 200
2025-04-03 15:19:24.587 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/settings - 200 null application/json; charset=utf-8 2518.2246ms
2025-04-03 15:19:30.718 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - null null
2025-04-03 15:19:30.718 +03:00 [INF] Incoming Request: GET /currency/RUB/2008-01-01
2025-04-03 15:19:30.718 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:19:30.718 +03:00 [INF] Route matched with {action = "GetCurrencyRateByDate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyHistoricalResponse] GetCurrencyRateByDate(System.String, System.DateOnly, System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:19:30.719 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:19:30.720 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:19:30.856 +03:00 [INF] Received HTTP response headers after 135.6686ms - 200
2025-04-03 15:19:30.856 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetCurrencyOnDate"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":""}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:19:30.7197417Z","EndDate":"2025-04-03T12:19:30.8564762Z","Duration":137}
2025-04-03 15:19:30.856 +03:00 [INF] End processing HTTP request after 136.974ms - 200
2025-04-03 15:19:30.856 +03:00 [INF] Call failed with gRPC error status. Status code: '"Unknown"', Message: 'Exception was thrown by handler. FormatException: String '01.01.2008' was not recognized as a valid DateOnly.'.
2025-04-03 15:19:31.071 +03:00 [ERR] An unexpected error occurred
Grpc.Core.RpcException: Status(StatusCode="Unknown", Detail="Exception was thrown by handler. FormatException: String '01.01.2008' was not recognized as a valid DateOnly.")
   at Fuse8.BackendInternship.PublicApi.gRPC.CurrencyClient.GetCurrencyOnDateAsync(String CurrencyCode, String date) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\gRPC\CurrencyClient.cs:line 37
   at Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate(String code, DateOnly date, CancellationToken token) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\Controllers\CurrencyController.cs:line 104
   at lambda_method23(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-04-03 15:19:31.072 +03:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-03 15:19:31.072 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi) in 353.6309ms
2025-04-03 15:19:31.072 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:19:31.072 +03:00 [INF] Response Status Code: 500
2025-04-03 15:19:31.072 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - 500 null application/json; charset=utf-8 354.0384ms
2025-04-03 15:19:33.214 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - null null
2025-04-03 15:19:33.214 +03:00 [INF] Incoming Request: GET /currency/RUB/2008-01-01
2025-04-03 15:19:33.214 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:19:33.214 +03:00 [INF] Route matched with {action = "GetCurrencyRateByDate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyHistoricalResponse] GetCurrencyRateByDate(System.String, System.DateOnly, System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:19:33.215 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:19:33.215 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:19:33.307 +03:00 [INF] Received HTTP response headers after 91.6788ms - 200
2025-04-03 15:19:33.307 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetCurrencyOnDate"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":""}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:19:33.2150771Z","EndDate":"2025-04-03T12:19:33.3074332Z","Duration":92}
2025-04-03 15:19:33.307 +03:00 [INF] End processing HTTP request after 92.5857ms - 200
2025-04-03 15:19:33.307 +03:00 [INF] Call failed with gRPC error status. Status code: '"Unknown"', Message: 'Exception was thrown by handler. FormatException: String '01.01.2008' was not recognized as a valid DateOnly.'.
2025-04-03 15:19:33.521 +03:00 [ERR] An unexpected error occurred
Grpc.Core.RpcException: Status(StatusCode="Unknown", Detail="Exception was thrown by handler. FormatException: String '01.01.2008' was not recognized as a valid DateOnly.")
   at Fuse8.BackendInternship.PublicApi.gRPC.CurrencyClient.GetCurrencyOnDateAsync(String CurrencyCode, String date) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\gRPC\CurrencyClient.cs:line 37
   at Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate(String code, DateOnly date, CancellationToken token) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\Controllers\CurrencyController.cs:line 104
   at lambda_method23(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-04-03 15:19:33.521 +03:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-03 15:19:33.521 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi) in 307.5059ms
2025-04-03 15:19:33.521 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:19:33.521 +03:00 [INF] Response Status Code: 500
2025-04-03 15:19:33.522 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - 500 null application/json; charset=utf-8 307.8187ms
2025-04-03 15:19:50.265 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - null null
2025-04-03 15:19:50.266 +03:00 [INF] Incoming Request: GET /currency/RUB/2008-01-01
2025-04-03 15:19:50.266 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:19:50.266 +03:00 [INF] Route matched with {action = "GetCurrencyRateByDate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyHistoricalResponse] GetCurrencyRateByDate(System.String, System.DateOnly, System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:20:19.666 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:20:19.673 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:20:19.763 +03:00 [INF] Received HTTP response headers after 90.7863ms - 200
2025-04-03 15:20:19.764 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetCurrencyOnDate"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":""}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:20:19.6667187Z","EndDate":"2025-04-03T12:20:19.764131Z","Duration":97}
2025-04-03 15:20:19.764 +03:00 [INF] End processing HTTP request after 98.2516ms - 200
2025-04-03 15:20:19.764 +03:00 [INF] Call failed with gRPC error status. Status code: '"Unknown"', Message: 'Exception was thrown by handler. FormatException: String '01.01.2008' was not recognized as a valid DateOnly.'.
2025-04-03 15:20:20.001 +03:00 [ERR] An unexpected error occurred
Grpc.Core.RpcException: Status(StatusCode="Unknown", Detail="Exception was thrown by handler. FormatException: String '01.01.2008' was not recognized as a valid DateOnly.")
   at Fuse8.BackendInternship.PublicApi.gRPC.CurrencyClient.GetCurrencyOnDateAsync(String CurrencyCode, String date) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\gRPC\CurrencyClient.cs:line 37
   at Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate(String code, DateOnly date, CancellationToken token) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\Controllers\CurrencyController.cs:line 104
   at lambda_method23(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-04-03 15:20:20.001 +03:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-03 15:20:20.002 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi) in 29735.7079ms
2025-04-03 15:20:20.002 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:20:20.002 +03:00 [INF] Response Status Code: 500
2025-04-03 15:20:20.002 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - 500 null application/json; charset=utf-8 29736.9045ms
2025-04-03 15:21:07.604 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - null null
2025-04-03 15:21:07.604 +03:00 [INF] Incoming Request: GET /currency/RUB/2008-01-01
2025-04-03 15:21:07.604 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:21:07.605 +03:00 [INF] Route matched with {action = "GetCurrencyRateByDate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyHistoricalResponse] GetCurrencyRateByDate(System.String, System.DateOnly, System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:21:15.865 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:21:15.866 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:21:15.981 +03:00 [INF] Received HTTP response headers after 115.1094ms - 200
2025-04-03 15:21:15.982 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetCurrencyOnDate"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":""}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:21:15.8658759Z","EndDate":"2025-04-03T12:21:15.9820345Z","Duration":116}
2025-04-03 15:21:15.982 +03:00 [INF] End processing HTTP request after 116.8655ms - 200
2025-04-03 15:21:15.982 +03:00 [INF] Call failed with gRPC error status. Status code: '"Unknown"', Message: 'Exception was thrown by handler. FormatException: String '01.01.2008' was not recognized as a valid DateOnly.'.
2025-04-03 15:21:16.191 +03:00 [ERR] An unexpected error occurred
Grpc.Core.RpcException: Status(StatusCode="Unknown", Detail="Exception was thrown by handler. FormatException: String '01.01.2008' was not recognized as a valid DateOnly.")
   at Fuse8.BackendInternship.PublicApi.gRPC.CurrencyClient.GetCurrencyOnDateAsync(String CurrencyCode, String date) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\gRPC\CurrencyClient.cs:line 37
   at Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate(String code, DateOnly date, CancellationToken token) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\Controllers\CurrencyController.cs:line 104
   at lambda_method23(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-04-03 15:21:16.192 +03:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-03 15:21:16.192 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi) in 8587.0231ms
2025-04-03 15:21:16.192 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:21:16.192 +03:00 [INF] Response Status Code: 500
2025-04-03 15:21:16.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - 500 null application/json; charset=utf-8 8587.998ms
2025-04-03 15:21:39.463 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - null null
2025-04-03 15:21:39.463 +03:00 [INF] Incoming Request: GET /currency/RUB/2008-01-01
2025-04-03 15:21:39.464 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:21:39.464 +03:00 [INF] Route matched with {action = "GetCurrencyRateByDate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyHistoricalResponse] GetCurrencyRateByDate(System.String, System.DateOnly, System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:22:15.526 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:22:15.527 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:22:15.646 +03:00 [INF] Received HTTP response headers after 119.0288ms - 200
2025-04-03 15:22:15.647 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetCurrencyOnDate"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":""}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:22:15.5264579Z","EndDate":"2025-04-03T12:22:15.6468439Z","Duration":120}
2025-04-03 15:22:15.647 +03:00 [INF] End processing HTTP request after 120.8721ms - 200
2025-04-03 15:22:15.647 +03:00 [INF] Call failed with gRPC error status. Status code: '"Unknown"', Message: 'Exception was thrown by handler. FormatException: String '01.01.2008' was not recognized as a valid DateOnly.'.
2025-04-03 15:22:15.877 +03:00 [ERR] An unexpected error occurred
Grpc.Core.RpcException: Status(StatusCode="Unknown", Detail="Exception was thrown by handler. FormatException: String '01.01.2008' was not recognized as a valid DateOnly.")
   at Fuse8.BackendInternship.PublicApi.gRPC.CurrencyClient.GetCurrencyOnDateAsync(String CurrencyCode, String date) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\gRPC\CurrencyClient.cs:line 37
   at Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate(String code, DateOnly date, CancellationToken token) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\Controllers\CurrencyController.cs:line 104
   at lambda_method23(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-04-03 15:22:15.878 +03:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-03 15:22:15.878 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi) in 36414.0724ms
2025-04-03 15:22:15.878 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:22:15.878 +03:00 [INF] Response Status Code: 500
2025-04-03 15:22:15.878 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - 500 null application/json; charset=utf-8 36414.6576ms
2025-04-03 15:22:21.024 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - null null
2025-04-03 15:22:21.025 +03:00 [INF] Incoming Request: GET /currency/RUB/2008-01-01
2025-04-03 15:22:21.025 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:22:21.025 +03:00 [INF] Route matched with {action = "GetCurrencyRateByDate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyHistoricalResponse] GetCurrencyRateByDate(System.String, System.DateOnly, System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:25:21.939 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 15:25:22.039 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 15:25:22.040 +03:00 [INF] Hosting environment: Development
2025-04-03 15:25:22.040 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 15:25:22.164 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - null null
2025-04-03 15:25:22.350 +03:00 [INF] Incoming Request: GET /currency/RUB/2008-01-01
2025-04-03 15:25:22.384 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:25:22.414 +03:00 [INF] Route matched with {action = "GetCurrencyRateByDate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyHistoricalResponse] GetCurrencyRateByDate(System.String, System.DateOnly, System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:25:30.388 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:25:30.409 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:25:30.993 +03:00 [INF] Received HTTP response headers after 582.4747ms - 200
2025-04-03 15:25:31.028 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetCurrencyOnDate"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":"\u0000\u0000\u0000\u0000\u000E\n\u0003RUB\u0011\u04E4\u0014t{i8@"}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:25:30.3956499Z","EndDate":"2025-04-03T12:25:30.9993532Z","Duration":604}
2025-04-03 15:25:31.031 +03:00 [INF] End processing HTTP request after 646.2754ms - 200
2025-04-03 15:25:31.047 +03:00 [INF] Executing ObjectResult, writing value of type 'Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyHistoricalResponse'.
2025-04-03 15:25:31.063 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi) in 8646.6392ms
2025-04-03 15:25:31.063 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:25:31.064 +03:00 [INF] Response Status Code: 200
2025-04-03 15:25:31.067 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency/RUB/2008-01-01 - 200 null application/json; charset=utf-8 8908.0509ms
2025-04-03 15:28:55.192 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 15:28:55.281 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 15:28:55.282 +03:00 [INF] Hosting environment: Development
2025-04-03 15:28:55.282 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 15:29:12.636 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency/USD/2008-01-01 - null null
2025-04-03 15:29:12.681 +03:00 [INF] Incoming Request: GET /currency/USD/2008-01-01
2025-04-03 15:29:12.692 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:29:12.723 +03:00 [INF] Route matched with {action = "GetCurrencyRateByDate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyHistoricalResponse] GetCurrencyRateByDate(System.String, System.DateOnly, System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:29:15.280 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:29:15.302 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:29:15.788 +03:00 [INF] Received HTTP response headers after 483.407ms - 200
2025-04-03 15:29:15.836 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetCurrencyOnDate"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":"\u0000\u0000\u0000\u0000\u000E\n\u0003USD\u0011\u0000\u0000\u0000\u0000\u0000\u0000\uFFFD?"}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:29:15.2896332Z","EndDate":"2025-04-03T12:29:15.794729Z","Duration":505}
2025-04-03 15:29:15.839 +03:00 [INF] End processing HTTP request after 561.6812ms - 200
2025-04-03 15:29:15.857 +03:00 [INF] Executing ObjectResult, writing value of type 'Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyHistoricalResponse'.
2025-04-03 15:29:15.875 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi) in 3147.8119ms
2025-04-03 15:29:15.876 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:29:15.877 +03:00 [INF] Response Status Code: 200
2025-04-03 15:29:15.882 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency/USD/2008-01-01 - 200 null application/json; charset=utf-8 3252.8297ms
2025-04-03 15:31:48.046 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 15:31:48.398 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 15:31:48.399 +03:00 [INF] Hosting environment: Development
2025-04-03 15:31:48.399 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 15:31:57.288 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency/USD/2008-01-01 - null null
2025-04-03 15:31:57.323 +03:00 [INF] Incoming Request: GET /currency/USD/2008-01-01
2025-04-03 15:31:57.334 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:31:57.364 +03:00 [INF] Route matched with {action = "GetCurrencyRateByDate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyHistoricalResponse] GetCurrencyRateByDate(System.String, System.DateOnly, System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:31:57.540 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:31:57.566 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate
2025-04-03 15:31:58.218 +03:00 [INF] Received HTTP response headers after 650.3886ms - 200
2025-04-03 15:31:58.261 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetCurrencyOnDate"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":"\u0000\u0000\u0000\u0000\u000E\n\u0003USD\u0011\u0000\u0000\u0000\u0000\u0000\u0000\uFFFD?"}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyOnDate","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:31:57.551469Z","EndDate":"2025-04-03T12:31:58.2256355Z","Duration":674}
2025-04-03 15:31:58.265 +03:00 [INF] End processing HTTP request after 728.9641ms - 200
2025-04-03 15:31:58.283 +03:00 [INF] Executing ObjectResult, writing value of type 'Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyHistoricalResponse'.
2025-04-03 15:31:58.300 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi) in 932.8388ms
2025-04-03 15:31:58.301 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRateByDate (PublicApi)'
2025-04-03 15:31:58.302 +03:00 [INF] Response Status Code: 200
2025-04-03 15:31:58.306 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency/USD/2008-01-01 - 200 null application/json; charset=utf-8 1022.4541ms
2025-04-03 15:32:11.614 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/currency - null null
2025-04-03 15:32:11.615 +03:00 [INF] Incoming Request: GET /currency
2025-04-03 15:32:11.615 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi)'
2025-04-03 15:32:11.618 +03:00 [INF] Route matched with {action = "GetCurrencyRate", controller = "Currency"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyCurrentResponse] GetCurrencyRate(System.Threading.CancellationToken, System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController (PublicApi).
2025-04-03 15:32:11.621 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent
2025-04-03 15:32:11.625 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent
2025-04-03 15:32:11.654 +03:00 [INF] Received HTTP response headers after 28.4104ms - 200
2025-04-03 15:32:11.654 +03:00 [INF] {"Action":{"Method":"POST","Url":"http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent","Version":"2.0","Request":{"QueryString":"","Scheme":"http","Path":"/currency.GrpcCurrency/GetCurrencyCurrent"},"Response":{"StatusCode":200,"Status":"OK","Reason":"OK","IsSuccess":true,"Content":{"Body":"\u0000\u0000\u0000\u0000\u000E\n\u0003RUB\u0011z\uFFFD}I\uFFFD\uFFFD9@"}}},"EventType":"POST http://localhost:10001/currency.GrpcCurrency/GetCurrencyCurrent","Environment":{"UserName":"\u0410\u043D\u0434\u0440\u0435\u0439","MachineName":"LAPTOP-U3VVGH3L","DomainName":"LAPTOP-U3VVGH3L","CallingMethodName":"System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start()","AssemblyName":"System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e","Culture":"ru-RU"},"StartDate":"2025-04-03T12:32:11.6218484Z","EndDate":"2025-04-03T12:32:11.6545414Z","Duration":33}
2025-04-03 15:32:11.654 +03:00 [INF] End processing HTTP request after 33.0531ms - 200
2025-04-03 15:32:11.656 +03:00 [INF] Executing ObjectResult, writing value of type 'Fuse8.BackendInternship.PublicApi.Models.Responses.CurrencyCurrentResponse'.
2025-04-03 15:32:11.658 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi) in 39.5278ms
2025-04-03 15:32:11.658 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.CurrencyController.GetCurrencyRate (PublicApi)'
2025-04-03 15:32:11.658 +03:00 [INF] Response Status Code: 200
2025-04-03 15:32:11.658 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/currency - 200 null application/json; charset=utf-8 44.7002ms
2025-04-03 15:50:18.031 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 15:50:18.395 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 15:50:18.396 +03:00 [INF] Hosting environment: Development
2025-04-03 15:50:18.396 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 15:50:33.563 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/settings - null null
2025-04-03 15:50:33.608 +03:00 [INF] Incoming Request: GET /settings
2025-04-03 15:50:33.640 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 15:50:33.672 +03:00 [INF] Route matched with {action = "GetSettings", controller = "Settings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse] GetSettings(System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.Settings (PublicApi).
2025-04-03 15:50:33.861 +03:00 [ERR] An unexpected error occurred
System.InvalidOperationException: Cannot resolve scoped service 'Microsoft.Extensions.Options.IOptionsSnapshot`1[Fuse8.BackendInternship.PublicApi.Models.Configurations.grpcUrlOptions]' from root provider.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(ServiceCallSite callSite, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.OnResolve(ServiceCallSite callSite, IServiceScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Fuse8.BackendInternship.PublicApi.Startup.<>c.<ConfigureServices>b__2_2(IServiceProvider provider, GrpcClientFactoryOptions options) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\Startup.cs:line 57
   at Microsoft.Extensions.DependencyInjection.GrpcClientServiceExtensions.<>c__DisplayClass5_1`1.<AddGrpcClient>b__2(GrpcClientFactoryOptions options)
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c.<Get>b__10_0(String name, IOptionsFactory`1 factory)
   at Microsoft.Extensions.Options.OptionsCache`1.<>c__DisplayClass3_1`1.<GetOrAdd>b__2()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd[TArg](String name, Func`3 createOptions, TArg factoryArgument)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Grpc.Net.ClientFactory.Internal.GrpcCallInvokerFactory.CreateInvoker(EntryKey key)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Grpc.Net.ClientFactory.Internal.GrpcCallInvokerFactory.CreateInvoker(String name, Type type)
   at Grpc.Net.ClientFactory.Internal.DefaultGrpcClientFactory.CreateClient[TClient](String name)
   at Microsoft.Extensions.DependencyInjection.GrpcClientServiceExtensions.<>c__DisplayClass7_0`1.<AddGrpcHttpClient>b__2(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method10(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-04-03 15:50:33.907 +03:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-03 15:50:33.926 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi) in 249.8384ms
2025-04-03 15:50:33.926 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 15:50:33.926 +03:00 [INF] Response Status Code: 500
2025-04-03 15:50:33.928 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/settings - 500 null application/json; charset=utf-8 370.3506ms
2025-04-03 15:51:07.666 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/settings - null null
2025-04-03 15:51:07.667 +03:00 [INF] Incoming Request: GET /settings
2025-04-03 15:51:07.667 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 15:51:07.667 +03:00 [INF] Route matched with {action = "GetSettings", controller = "Settings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse] GetSettings(System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.Settings (PublicApi).
2025-04-03 15:52:09.662 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 15:52:09.902 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 15:52:09.902 +03:00 [INF] Hosting environment: Development
2025-04-03 15:52:09.903 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 15:53:57.162 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 15:53:57.459 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 15:53:57.460 +03:00 [INF] Hosting environment: Development
2025-04-03 15:53:57.460 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 15:55:58.412 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 15:55:58.820 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 15:55:58.823 +03:00 [INF] Hosting environment: Development
2025-04-03 15:55:58.823 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 15:56:33.827 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 15:56:34.062 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 15:56:34.062 +03:00 [INF] Hosting environment: Development
2025-04-03 15:56:34.062 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 15:56:57.090 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 15:56:57.316 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 15:56:57.317 +03:00 [INF] Hosting environment: Development
2025-04-03 15:56:57.317 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 15:58:54.403 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 15:58:54.885 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 15:58:54.886 +03:00 [INF] Hosting environment: Development
2025-04-03 15:58:54.886 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 15:59:05.861 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/settings - null null
2025-04-03 15:59:05.904 +03:00 [INF] Incoming Request: GET /settings
2025-04-03 15:59:05.914 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 15:59:05.948 +03:00 [INF] Route matched with {action = "GetSettings", controller = "Settings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse] GetSettings(System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.Settings (PublicApi).
2025-04-03 15:59:09.031 +03:00 [ERR] An unexpected error occurred
System.InvalidOperationException: Cannot resolve scoped service 'Microsoft.Extensions.Options.IOptionsSnapshot`1[Fuse8.BackendInternship.PublicApi.Models.Configurations.grpcUrlOptions]' from root provider.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(ServiceCallSite callSite, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.OnResolve(ServiceCallSite callSite, IServiceScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Fuse8.BackendInternship.PublicApi.Startup.<>c.<ConfigureServices>b__2_2(IServiceProvider provider, GrpcClientFactoryOptions options) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\Startup.cs:line 59
   at Microsoft.Extensions.DependencyInjection.GrpcClientServiceExtensions.<>c__DisplayClass5_1`1.<AddGrpcClient>b__2(GrpcClientFactoryOptions options)
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c.<Get>b__10_0(String name, IOptionsFactory`1 factory)
   at Microsoft.Extensions.Options.OptionsCache`1.<>c__DisplayClass3_1`1.<GetOrAdd>b__2()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd[TArg](String name, Func`3 createOptions, TArg factoryArgument)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Grpc.Net.ClientFactory.Internal.GrpcCallInvokerFactory.CreateInvoker(EntryKey key)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Grpc.Net.ClientFactory.Internal.GrpcCallInvokerFactory.CreateInvoker(String name, Type type)
   at Grpc.Net.ClientFactory.Internal.DefaultGrpcClientFactory.CreateClient[TClient](String name)
   at Microsoft.Extensions.DependencyInjection.GrpcClientServiceExtensions.<>c__DisplayClass7_0`1.<AddGrpcHttpClient>b__2(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method10(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-04-03 15:59:09.519 +03:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-03 15:59:09.540 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi) in 3588.0053ms
2025-04-03 15:59:09.541 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 15:59:09.541 +03:00 [INF] Response Status Code: 500
2025-04-03 15:59:09.543 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/settings - 500 null application/json; charset=utf-8 3688.6918ms
2025-04-03 16:00:02.585 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 16:00:02.941 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 16:00:02.943 +03:00 [INF] Hosting environment: Development
2025-04-03 16:00:02.944 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 16:00:28.978 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 16:00:29.378 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 16:00:29.379 +03:00 [INF] Hosting environment: Development
2025-04-03 16:00:29.379 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 16:08:02.837 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 16:08:03.119 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 16:08:03.120 +03:00 [INF] Hosting environment: Development
2025-04-03 16:08:03.120 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 16:10:13.971 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 16:10:14.843 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 16:10:14.844 +03:00 [INF] Hosting environment: Development
2025-04-03 16:10:14.844 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 16:10:37.220 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 16:10:37.446 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 16:10:37.446 +03:00 [INF] Hosting environment: Development
2025-04-03 16:10:37.446 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 16:10:41.388 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/settings - null null
2025-04-03 16:10:41.445 +03:00 [INF] Incoming Request: GET /settings
2025-04-03 16:10:41.458 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 16:10:41.492 +03:00 [INF] Route matched with {action = "GetSettings", controller = "Settings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse] GetSettings(System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.Settings (PublicApi).
2025-04-03 16:11:12.453 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetSetting
2025-04-03 16:11:12.457 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetSetting
2025-04-03 16:11:13.190 +03:00 [INF] Received HTTP response headers after 731.2091ms - 200
2025-04-03 16:11:13.191 +03:00 [INF] End processing HTTP request after 741.8775ms - 200
2025-04-03 16:11:14.787 +03:00 [INF] Executing ObjectResult, writing value of type 'Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse'.
2025-04-03 16:11:14.804 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi) in 33306.888ms
2025-04-03 16:11:14.804 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 16:11:14.805 +03:00 [INF] Response Status Code: 200
2025-04-03 16:11:14.808 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/settings - 200 null application/json; charset=utf-8 33427.4112ms
2025-04-03 16:11:56.583 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 16:11:57.003 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 16:11:57.004 +03:00 [INF] Hosting environment: Development
2025-04-03 16:11:57.004 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 16:12:05.882 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/settings - null null
2025-04-03 16:12:05.921 +03:00 [INF] Incoming Request: GET /settings
2025-04-03 16:12:05.932 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 16:12:05.964 +03:00 [INF] Route matched with {action = "GetSettings", controller = "Settings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse] GetSettings(System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.Settings (PublicApi).
2025-04-03 16:12:12.490 +03:00 [ERR] An unexpected error occurred
System.InvalidOperationException: Cannot resolve scoped service 'Microsoft.Extensions.Options.IOptionsSnapshot`1[Fuse8.BackendInternship.PublicApi.Models.Configurations.grpcUrlOptions]' from root provider.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(ServiceCallSite callSite, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.OnResolve(ServiceCallSite callSite, IServiceScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Fuse8.BackendInternship.PublicApi.Startup.<>c.<ConfigureServices>b__2_2(IServiceProvider provider, GrpcClientFactoryOptions options) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\Startup.cs:line 57
   at Microsoft.Extensions.DependencyInjection.GrpcClientServiceExtensions.<>c__DisplayClass5_1`1.<AddGrpcClient>b__2(GrpcClientFactoryOptions options)
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c.<Get>b__10_0(String name, IOptionsFactory`1 factory)
   at Microsoft.Extensions.Options.OptionsCache`1.<>c__DisplayClass3_1`1.<GetOrAdd>b__2()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd[TArg](String name, Func`3 createOptions, TArg factoryArgument)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Grpc.Net.ClientFactory.Internal.GrpcCallInvokerFactory.CreateInvoker(EntryKey key)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Grpc.Net.ClientFactory.Internal.GrpcCallInvokerFactory.CreateInvoker(String name, Type type)
   at Grpc.Net.ClientFactory.Internal.DefaultGrpcClientFactory.CreateClient[TClient](String name)
   at Microsoft.Extensions.DependencyInjection.GrpcClientServiceExtensions.<>c__DisplayClass7_0`1.<AddGrpcHttpClient>b__2(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method10(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-04-03 16:12:13.102 +03:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-03 16:12:13.124 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi) in 7153.5431ms
2025-04-03 16:12:13.124 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 16:12:13.124 +03:00 [INF] Response Status Code: 500
2025-04-03 16:12:13.127 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/settings - 500 null application/json; charset=utf-8 7252.2899ms
2025-04-03 16:12:36.649 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 16:12:36.886 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 16:12:36.886 +03:00 [INF] Hosting environment: Development
2025-04-03 16:12:36.886 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 16:12:41.667 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/settings - null null
2025-04-03 16:12:41.707 +03:00 [INF] Incoming Request: GET /settings
2025-04-03 16:12:41.719 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 16:12:41.750 +03:00 [INF] Route matched with {action = "GetSettings", controller = "Settings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse] GetSettings(System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.Settings (PublicApi).
2025-04-03 16:12:52.644 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetSetting
2025-04-03 16:12:52.648 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetSetting
2025-04-03 16:12:54.328 +03:00 [INF] Received HTTP response headers after 1677.5223ms - 200
2025-04-03 16:12:54.330 +03:00 [INF] End processing HTTP request after 1689.2005ms - 200
2025-04-03 16:12:55.925 +03:00 [INF] Executing ObjectResult, writing value of type 'Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse'.
2025-04-03 16:12:55.936 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi) in 14182.1781ms
2025-04-03 16:12:55.936 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 16:12:55.936 +03:00 [INF] Response Status Code: 200
2025-04-03 16:12:55.940 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/settings - 200 null application/json; charset=utf-8 14279.0433ms
2025-04-03 16:13:37.423 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 16:13:37.731 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 16:13:37.732 +03:00 [INF] Hosting environment: Development
2025-04-03 16:13:37.732 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 16:13:42.028 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/settings - null null
2025-04-03 16:13:42.071 +03:00 [INF] Incoming Request: GET /settings
2025-04-03 16:13:42.081 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 16:13:42.115 +03:00 [INF] Route matched with {action = "GetSettings", controller = "Settings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse] GetSettings(System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.Settings (PublicApi).
2025-04-03 16:13:50.424 +03:00 [ERR] An unexpected error occurred
System.InvalidOperationException: Cannot resolve scoped service 'Microsoft.Extensions.Options.IOptionsSnapshot`1[Fuse8.BackendInternship.PublicApi.Models.Configurations.grpcUrlOptions]' from root provider.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(ServiceCallSite callSite, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.OnResolve(ServiceCallSite callSite, IServiceScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Fuse8.BackendInternship.PublicApi.Startup.<>c.<ConfigureServices>b__2_2(IServiceProvider provider, GrpcClientFactoryOptions options) in C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi\Startup.cs:line 57
   at Microsoft.Extensions.DependencyInjection.GrpcClientServiceExtensions.<>c__DisplayClass5_1`1.<AddGrpcClient>b__2(GrpcClientFactoryOptions options)
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c.<Get>b__10_0(String name, IOptionsFactory`1 factory)
   at Microsoft.Extensions.Options.OptionsCache`1.<>c__DisplayClass3_1`1.<GetOrAdd>b__2()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd[TArg](String name, Func`3 createOptions, TArg factoryArgument)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Grpc.Net.ClientFactory.Internal.GrpcCallInvokerFactory.CreateInvoker(EntryKey key)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Grpc.Net.ClientFactory.Internal.GrpcCallInvokerFactory.CreateInvoker(String name, Type type)
   at Grpc.Net.ClientFactory.Internal.DefaultGrpcClientFactory.CreateClient[TClient](String name)
   at Microsoft.Extensions.DependencyInjection.GrpcClientServiceExtensions.<>c__DisplayClass7_0`1.<AddGrpcHttpClient>b__2(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method10(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-04-03 16:13:51.100 +03:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-03 16:13:51.120 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi) in 9001.3088ms
2025-04-03 16:13:51.120 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 16:13:51.120 +03:00 [INF] Response Status Code: 500
2025-04-03 16:13:51.123 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/settings - 500 null application/json; charset=utf-8 9103.5426ms
2025-04-03 16:16:23.189 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 16:16:23.553 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 16:16:23.555 +03:00 [INF] Hosting environment: Development
2025-04-03 16:16:23.556 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 16:16:26.628 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/settings - null null
2025-04-03 16:16:26.808 +03:00 [INF] Incoming Request: GET /settings
2025-04-03 16:16:26.880 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 16:16:26.917 +03:00 [INF] Route matched with {action = "GetSettings", controller = "Settings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse] GetSettings(System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.Settings (PublicApi).
2025-04-03 16:16:32.463 +03:00 [INF] Start processing HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetSetting
2025-04-03 16:16:32.468 +03:00 [INF] Sending HTTP request POST http://localhost:10001/currency.GrpcCurrency/GetSetting
2025-04-03 16:16:32.967 +03:00 [INF] Received HTTP response headers after 495.1348ms - 200
2025-04-03 16:16:32.968 +03:00 [INF] End processing HTTP request after 511.1181ms - 200
2025-04-03 16:16:34.119 +03:00 [INF] Executing ObjectResult, writing value of type 'Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse'.
2025-04-03 16:16:34.129 +03:00 [INF] Executed action Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi) in 7209.6588ms
2025-04-03 16:16:34.130 +03:00 [INF] Executed endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 16:16:34.130 +03:00 [INF] Response Status Code: 200
2025-04-03 16:16:34.133 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/settings - 200 null application/json; charset=utf-8 7513.8862ms
2025-04-03 16:17:06.415 +03:00 [INF] Now listening on: http://localhost:5166
2025-04-03 16:17:06.826 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-03 16:17:06.826 +03:00 [INF] Hosting environment: Development
2025-04-03 16:17:06.827 +03:00 [INF] Content root path: C:\Users\Андрей\Desktop\backend\Homework4\CurrencyApi\PublicApi
2025-04-03 16:17:16.523 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/settings - null null
2025-04-03 16:17:16.563 +03:00 [INF] Incoming Request: GET /settings
2025-04-03 16:17:16.577 +03:00 [INF] Executing endpoint 'Fuse8.BackendInternship.PublicApi.Controllers.Settings.GetSettings (PublicApi)'
2025-04-03 16:17:16.610 +03:00 [INF] Route matched with {action = "GetSettings", controller = "Settings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Fuse8.BackendInternship.PublicApi.Models.Responses.SettingResponse] GetSettings(System.Threading.CancellationToken) on controller Fuse8.BackendInternship.PublicApi.Controllers.Settings (PublicApi).
